<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" template="template.xhtml">
 <ui:define name="title"> - List of cars</ui:define>
 <ui:define name="content">
   <h:form id="carListform">
     <ui:include src="carList.xhtml"/>
   </h:form>
   <h:form id="editCarForm">
    <h:panelGroup id="editPanel">
     <p:commandButton rendered="#{not carController.editMode}"
                      value="#{msg.cars_edit}" action="#{carController.editCar()}" 
                      update="editPanel"/>
     <h:panelGroup rendered="#{carController.editMode}">
      <ui:include src="carEdit.xhtml"/>
     </h:panelGroup>
     <div>
      <p:commandButton value="#{msg.cars_save}" action="#{carController.saveCar()}" 
                       rendered="#{carController.editMode}" update="editPanel,carListform:carTable"/>
      <p:commandButton value="#{msg.cars_cancel}" action="#{carController.cancelEditCar()}" 
                       rendered="#{carController.editMode}" update="editPanel" process="@this"/>
     </div>
    </h:panelGroup>
   </h:form>
 </ui:define>
</ui:composition>
